
- TODO: manual adjustment check for errors, especially in player won items and auction history
  -> rework needed for the clientside playerwon file to handle manual adjustments better
  -> still TODO
- Still TODO: Pot split balance isnt working properly, some people dont get their balance reduced on trade although they have received their cut. Maybe related to offline players / people leaving mid raid?
- TODO: MiniBidFrame needs name & bid button disabling/syncing.. logic
- TODO: after a reload or by right clicking the info button bid buttons get stuck on Syncing...

- TODO: Scaling for cooldown tracker
- TODO: Changing from compact mode to full mode hides the current bid and only shows top bidder


- after a reload the sync button in the middle still appears but is hidden behind auction rows, needs fix




GDKPT - v 0.35 Part 1

New Features
- Added functionalities for auctioning items off from loot windows (creature corpses).
  Typing /gdkpleader loot brings up the list of items that can be auctioned off with their slots.
  Typing /gdkpleader loot X where X is the slot ID auctions of that items from the corpse.
- Added a Raid Data Snapshot system to the RaidLeader version. Leaders can now save data from
  a raid and load this dataset at any later point to create proper Data Exports for previous raids.
  This works for CSV, Text, JSON and Screenshot Exports. 
- Added a new RaidLeader UI for managing Raid Data Snapshots as well as Snapshot Unloading.
- There is now a raid-wide cooldown tracker built into GDKPT. Type /gdkp cd to open the 
  cooldown tracker, it gets auto populated when a player in a raid
  running GDKPT uses a cooldown spell. Currently implemented spells: 
  innervate, efflorscence, rebirth, tranqulity, ice block, mass invisibility, misdirection, divine
  sacrifice, hand of salvation, hand of protection, divine hymn, hymn of hope, pain suppression,
  guardian spirit, halo, power word: barrier, tricks of the trade, smoke bomb, earth elemental totem,
  mana tide totem, bloodlust, shield wall, disarm.
  Let me know if there are more spells that should get added.
- You can customize and filter the spells you see in the Cooldown Tracker through a Config menu.
- The LootTracker now shows when an auction for a specific item has started and who won the auction. 

Quality of Life Changes
- Added a tooltip to the GDKPToggleButton that appears on mouseover. It explains how you can open
  the two different panels and that you can move the button by holding leftclick.

General
- The RaidLeaders' TradeHelper now correctly checks for Corpse-Auctioned items as they have never
  been inside of the RaidLeaders' inventory.
- Fixed a bug regarding Pot Split Trades that could occur when a player left the raid after all
  auctions have been done but before the pot split was finalized.
- Fixed a bug that made manually hidden auction rows (through right-click on an auction row) 
  reappear when an auction ends.
- The LootTracker updates now only once per minute instead of once per second, this should improve
  fps.
- Fixed a bug that disabled the BidButton and BidBox on re-syncing auctions mid-auctioning.

Known Quirks:
- the cooldown tracker needs to be opened atleast once before it can properly track raid member
  cooldowns. So type /gdkp cd once at the start and thats enough.


GDKPT - v0.35 Part 2

- Added a new menu to adjust the Cooldown Tracker and test it with 50 simulated cooldowns.
- Continued to improve addon performance, documentation and structure.
- Fixed a bug that only appended the itemlink on an auction row with the stack count when a bid is received
  instead of on auction start.
- Fixed a bug that made won items no longer appear in the my won auctions frame.
- You can now right-click the ToggleButton to switch to a more compact design of the Auction Window.
- Cooldown bars within the Cooldown Tracker now have a class-based background.
- Fixed a bug that allowed you to repeatedly spam the Fill with Test Data button on the
  Cooldown Tracker and crash your own game.
- Compact mode now has a compact bottom info panel.
- You can now scale the size of the cooldown bars inside the cooldown tracker with the Drag button
  in the bottom right corner.




GDKPT - v 0.34

New Features
- Added a Fix button, that appears when the bid button is getting stuck on Syncing...
- After you placed a bid on any auction, there is now an internal timer running. 
  Every 5 seconds this is checking if your bid button is stuck on Syncing..., and if it is, 
  then it shows a small Fix button to the right that you can click to immediately unstuck yourself. 
  Timer stops running when an auction ends.

Quality of Life Changes
- There is now a small delay between Auction Resets and GDKPT UI refresh to ensure everything
  resets properly for everyone
- After a reset there is now an automatic re-sync
- Current Cut on the Bottom Info Panel now always shows the amount of players the gold is split by

General
- Fixed a bug that caused alot of Invalid Item Link chat messages when the masterlooter is 
  looting multiple items at once and the addon is trying to add these to the LootTracker
- Fixed a bug that caused alot of Sync Pot - Total Pot - Current Cut chat message spam
- The RaidLeader Addon is now validating late bids first before validating the amount, this
  should help make the stuck on Syncing... bug less common.
- Fixed a bug that made auctions sometimes not respect the new timer cap system.
- Fixed a bug that prevented the PendingAuctions table from getting properly cleaned up on 
  AuctionEnd



GDKPT - v 0.33

New Features
- Added an internal ItemHash system to better deal with duplicate items which previously caused
  alot of issues.

Quality of Life Changes
- Standardized every single [GDKPT] print message
- Standardized every single [GDKPT RaidLeader] print message
- Every single [GDKPT] print message should now be more clear and informative.
- Resyncing auctions now respects your choice of display settings
- Manual Adjustments can now be selected with Up/Down Keyboard buttons and the RaidLeader no longer needs to specify
  auction prices or auction IDs
- Item tooltips now also show when mouse overing the item texture on a row, in addition to mouseovering
  the itemlink
- Added a new setting to hide the GDKPT Toggle Button while in combat
- GDKPT functionalities will now only work while in a raid with the raidleader running
  the GDKPT RaidLeader addon. Let me know if I missed disabling anything while not in a GDKP.
- Items, which are not Soulbound or Bind on Pickup, now show Tradeable/BoE instead of the 2 hour
  trade timer when added to the Loot Tracker through the Auto MasterLoot system



General
- Fully reworked the RaidLeader version of the addon. (~15k lines of code restructured and refactored)
- Fully rewrote the RaidLeader's Message Handler system, addon communication should be much faster 
  now and the bidButton - stuck - on - sync bug should be way less common in 25 man raids.
  Needs testing to see if its fully fixed now.
- Fully reworked the Manual Adjustment system
- Fully reworked Trading during item/gold & pot-split trades.
- Added an Easter Egg.
- Fixed a bug that made the My Bids tracker in the bottom right corner not properly track bids
  from auctions that have ended
- Fixed a bug that re-enabled the BidButton and the BidBox after an auction has ended if another
  player has requested a setting/auction sync at the exact moment any auction is completed
- Increased the delay between sending Auto Masterloot messages to the raidmember addon to hopefully
  make the loot tracker show all looted items and not get overwhelmed by 9 items at once
- If multiple players click the bidButton on the same auction at almost the exact time (less than 0.5 sec difference),
  then the second players' bid will be invalid. Previously this caused the bidButton to be stuck on Syncing...
  This should be fixed now, the bidButton will be reenabled for the second player.
- Fixed a bug that allowed raidleaders to assign invalid auction durations, extra time, starting bids or min increments.
- Fixed a bug that was still sending raid chat messages if the raidleader set an invalid auction duration.
- Fixed a bug that was still sending raid chat messages if the raidleader set an invalid auction exra time per bid.
- Fixed a bug that was still sending raid chat messages if the raidleader set an invalid starting bid for auctions.
- Fixed a bug that was still sending raid chat messages if the raidleader set an invalid minimum increment for auctions.
- Fixed a bug that caused auction rows to appear in a wrong order after resyncing auctions after a reload.
- Alot of internal code restructuring, optimization and documentation for both member and leader addons


Updates to v 0.33
- AutoFill button is now situative responsive, based on whether you need to pay up, you are fully
  paid up or will receive gold from the leader.
- Raidmember addon is no longer tracking balances. Instead, on trade open with the raidleader
  the current balance for the specific player is getting synced. 
- Fixed a bug that caused auctions without a bid to print the wrong raid chat message.
- Fixed a bug that printed the wrong error message when bid cap was removed
- Reworked the AutoPlacer to use the new double itemhash system in preparations for the
  ascension item trade bug fix
- Fixed a bug that would only add the Cut to players who have won an auction. It now properly adds
  the cut to every member in the raid.
- Fixed a bug that made the TotalPot and Cut values incorrect for CSV, Text, Json and Screenshot Exports
- Fixed a bug that made the PlayerBalance table only show Gold and omit silver and copper values
- Current Cut and the internal splitCount variable now update more dynamically as the amount of 
  players in a raid changes
- Adjusted the positioning of buttons in the top panel


GDKPT - v 0.32

New Feature
- New Timer Cap feature: Auction duration can no longer exceed the maximum auction duration specified by the raidleader.
  If the auction duration drops below half of the maximum duration of an auction, then this half becomes the new timer cap
  for the auction. Example: 60 sec max duration, bids happening between 31 and 59 seconds left
  will only bring the auction duration up to at most 60 seconds. Once the timer drops below 30 seconds, bids can only bring 
  the timer up to 30 seconds.
- New Loot Tracker: Whenever the masterlooter loots an item, this item gets placed into the Loot Tracker.
  If an item drops multiple times in a raid then the loot tracker shows x2, x3,...
- New Bid Cap System: You can now limit your bids across all auctions by a specified amount. This is tracked
  across all auctions. Example: You limit yourself by 100 gold, then you can bid 50 gold on auction 1, 25 gold
  on auction 2 and 25 gold on auction 3, but cannot do any further bids on any other auction until you increase 
  your own bid cap. Leave the input field empty for bid cap.


Quality of Life Changes
- Loot Tracker frame is now scaleable with the button on the bottom right corner
- You can now favorite items from the loot tracker by clicking the star icon
- You can now Right - Click to hide auction rows. If you want to show them again, you need to select the
  Show All option from the filters in the top left corner
- Added a new setting to automatically hide finished auctions 5 seconds after completion
- the bottom info panel now shows the total sum of all your bids

General
- fully reworked the bottom info panel
- fully rewrote item trading logic and pot split trade code, might be better now
- lots of layout improvements
- alot of internal code restructuring, optimization and documentation
- Fixed a bug that made bids occuring too late still send a raid message. The raid message is now being
  printed when the raid leader validated the incoming bid as correct



GDKPT - v 0.31
- more code cleanup for beta version

GDKPT - v 0.30
- Code Cleanup in preparations for beta version


GDKPT - v 0.29

New Features
- Added export functionality to export all auctions from this raid as plain text, CSV, JSON or
  into two Screenshot - frames where you can select the auction rows to screenshot 
- Added an AutoFill button, that automatically fills the total cost of all won auctions into the trade window
  while trading with the raidleader in a GDKP
- This Autofill button is data persistant, meaning if you e.g. won an auction at 50 gold, then trade the leader to
  autofill 50 gold and get your item, and then win another auction at 100 gold afterwards, the second trade window
  autofill click will only add the remaining 100 gold. 
- Trade data is now load persistant, meaning if you reload or relog mid-auctions and have already paid for the items
  of a previous auction, you now auto sync up when trading the raidleader to only ever pay the missing amount of 
  unpaid - auctions
- RaidLeader feature: Auto place all won items into the trade window when a player is trading you and that player
  has won auctions. This also works through multiple stacks of items which need to be split up into multiple trades
  due to the 6 item per trade limit.
- RaidLeader feature: Pot Split - when all players have received their items and paid the item costs, then a button becomes
  available to initiate a Pot Split - the total pot divided by the specified player amount will be added to every raidmembers
  balance in the leader frame.
- Added AutoFill for RaidLeader Pot-Split-Trades: Auto Fills the current cut into the trade window when trading with a player
  who still needs to receive their cut.
- Added Double-Cut-Trade-Protection: If a player has already received their cut and initiates a trade again, the trade window 
  will auto close and a raid message will ask the player to please not double trade for their cut. One cut per player.
- More customization settings have been added.

Quality of Life Changes

- Added Macro Code to /gdkp macro for clicking the AutoFill button for raidmembers.
- Added a setting for the AutoFill button to also AcceptTrades on second useage.
  First AutoFill click fills the gold amount, Second Autofill Click clicks the Trade button to accept the trade.
  This also works for the macro, so press the macro once to fill the gold, and a second time to accept trade.
  This is OFF by default and needs to be turned on in the settings.  

General

- General code cleanup, frame visual improvements and smaller bugfixes in preparation for the 0.3 BETA phase


GDKPT - v 0.28

New Features
- More General, Bidding and Favorite related settings have been added. These choices
  persist through logouts and reloads.
- Added a visual indicator that will hopefully make players click the Synchronize Auctions button
  when their auctions are out of sync
- Added pot split functionality so RaidLeader can easily distribute gold in the end of a raid.
- Added an AutoFill button. If you have the functionality for this button enabled in your settings,
  then pressing the button will autofill the gold cost from auctions when you're trading with the
  raidleader. If you also have the Auto Accept functionality enabled, the AutoFill button will also
  automatically accept the trade. If you are the first person to accept trade, you will need to 
  press this button twice to get a permanent trade accept. If your trade partner has already clicked
  the Trade button to confirm the trade, you only need to press the AutoFill button once.
- Added pot history for raidleaders.
- Auctions now show 'Ending soon...' when they are less than 3 seconds away from ending, instead
  of the actual timer. This is to account for latency delays, especially for ascension servers.
  The auction timer is shown on your local time, which may be off by 1-2 seconds compared to the
  raidleaders time. Only the raidleaders' time matters for auction endings.
- Added more color changes as the auction timer gets lower.
- Leftclicking the info button on the top left now lets you synchronize auction settings again. 
  Rightclicking the info button lets you synchronize all active auctions. 



Quality of Life Changes
- Raidleader toggle UI frames button is no longer hidden on leftclick or rightclick
- Favorited item auctions now always show on top when filtering the auction table by favorites
- Added a macro to simulate an AutoFill button click. You will either need to press it once or twice,
  see above.
- /gdkp macro now opens a macro selection window where you can select the favorite-item-on-mouseover or
   gdkp trademacro text to copy

General
- Hopefully fixed a bug that caused auction rows to show up without an item.
- Re-syncing auctions after a reload/relog now also properly adjusts the Total Pot and Current Cut
- Re-syncing auctions after a reload/relog now also properly adjusts the PlayerBalance table for
  RaidLeaders.
- Fixed some issues related to the auction duration timer. Insanely large auction durations should not occur anymore.
- You can no longer move frames offscreen. Ty Floof
- Favorite item alert popup frame will now stay for 5 seconds instead of 3 seconds.
- Plenty of smaller bug fixes.



GDKPT - v 0.27

New Features
- added settings menu
- require bid confirmation by default, can be disabled in settings. choice persists through logouts.
- new command: /gdkp settings to open settings
- more settings and customization issues will be added to this in the next updates.
- Leader Addon: Added Auto Masterloot to yourself with raid chat announcement. 
  The auto masterloot also sends a hidden message to raidmembers.
- When the masterlooter has looted an item that you have favorited, then there will be 
  a chat message, a small frame popping up for 3 seconds, and a custom sound being played.
  Any of these (chat message, frame pop up, sound) can be adjusted in settings in a future update.
  Sound can be customized by simply replacing the sound file.
- Leader Addon: Added Player Gold Balance tracking
- Leader Addon: Added Manual Gold Balance Adjustments. This also updates everyones values instantly
  and sends a raid chat message to let everyone know a manual adjustment happened. All visual bugs
  based on manual adjustments have been fixed. Auction rows will now show MANUALLY ADJUSTED if they have
  been manually adjusted by the raidleader
- currently active auctions now persist through reloads and logouts.
- after reload, opening the main GDKPT window has a button to request currently updated auction settings,
  this also sends all auction data with it and rebuilds the members auction UI from top to bottom
- the raidleader can now reset all currently active auction data and start a new session


Quality of Life Changes

- Leader Addon: Added new UI toggle button, leftclick for the small LeaderFrame, 
  right click for general auction parameter adjustments

General

- More general visual, text and frame polishing. Everything should look abit better now.
- Fixed a bug that prevented players from opening the main auction window if they did not have
  favorite items








GDKPT - v 0.26

New Features
- favorite items are now persistent and saved through reloads and logouts.
- auction data is now persistent and saved through reloads and logouts.
- Added an Auction History. This History is local to the raids you participated in yourself.
- Auction History can be filtered based on character name and the specific item.
- added a new command: /gdkp macro , this opens a new frame where you can copy the macro text for
  mouseover favoriting items
- won items frame now automatically counts the amount of items you won in a raid and their average cost,
  ontop of total cost and Gold from Raid (total cost - cut)
- won auctions frame now has a button to show your personal auction history. This is equivalent
  to filtering the whole auction history by your own name, its just accessable with one click.
  This also lets you have your personal and the complete auction history up at the same time.


Quality of Life Changes
- Main Auction Window toggle button position is now properly saved and reloaded so it doesnt reset position between logsouts.
- optional frames FavoriteList, WonAuctions and AuctionHistory now properly stack on top of each other
- all optional frames can now be closed by pressing Escape
- GDKPT auction window toggle button now only shows while in a raid. You can still use 
  /gdkp show to show it at any time.


General
- General visual, text and frame polishing. Everything should look abit better now.
- some backend code optimization
- updated and improved all slash commands













